# ğŸ” gr33n SECURITY POLICY

gr33n is built with the belief that food system tools should be **trusted, inspectable, and locally secured**â€”not beholden to distant servers or hidden dependencies.

This document outlines our approach to security in self-hosted, intranet, and offline-first environments.

---

## ğŸ§­ Philosophy

- **Local trust > cloud trust**
- **Simplicity over obscurity**
- **Code is not magicâ€”read it, own it, defend it**

Whether deployed in a cabin, co-op greenhouse, or airgapped industrial farm, gr33n values **resilience without surveillance.**

---

## ğŸ”’ Application Security

| Feature | Status | Notes |
|--------|--------|-------|
| ğŸ” User Auth | âœ… Supported | Use PostgreSQL native roles or Supabase `auth.users` locally |
| ğŸ”‘ Row-Level Security (RLS) | âœ… Required | Enforced on all user-specific tables across `gr33n_core` |
| ğŸ”’ Role Separation | âš™ï¸ Recommended | Use `gr33n_admin`, `gr33n_operator`, and `gr33n_guest_inserter` roles with minimal permissions |
| ğŸ” TLS Support | âœ… Local HTTPS | For LAN deployments, use Caddy or nginx to terminate HTTPS |
| ğŸ”’ Encryption | âš™ï¸ Optional | Use LUKS/disk encryption for at-rest protection in sensitive deployments |

---

## ğŸ›œ Off-Grid & Intranet Use

gr33n can be deployed without cloud dependencies:

- ğŸ’¾ Run PostgreSQL + TimescaleDB locally
- ğŸ“¡ Use static IPs or .local domains for intranet device access
- ğŸ“¤ Optional insert sharing works via Git sync or USB stick transfers

gr33n **never â€œphones home.â€** There are no hardcoded cloud services, telemetry pings, or remote update hooks.

---

## ğŸš¨ Data Sharing + Inserts

For community-contributed insert statements:

- Inserts are staged into temporary tables
- `data_scrubber()` sanitizes input before promotion to production
- Insert Commons contributors must submit PRs via GitHub/GitLab with documented metadata

If youâ€™re running a public gr33n node that accepts inserts, **enable sandbox roles and audit logging.**

---

## ğŸ¤ Responsible Disclosure

Found a vulnerability in gr33nâ€™s schema, API, or insert handling?

Please [open a security issue](https://github.com/YOUR_REPO/security) or email the maintainer with:
- Description of issue
- Affected module or table
- Reproduction steps or test data (if safe)

---

## ğŸ§± Future Work

- Automated `gr33n-scrub-bot` CI pipeline for insert validation
- Signed data packages using GPG or farm fingerprints
- Local firewall configuration guides for typical deployments

---

## ğŸ§¬ Security is Sovereignty

gr33n doesnâ€™t outsource trustâ€”it builds it from the soil up.

No telemetry. No black boxes.  
**Just code you can hold accountable.**
